<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Detailed Development of Ecological Niche Models • kuenm2</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Detailed Development of Ecological Niche Models">
<meta name="description" content="A new set of tools to help with the development of detailed ecological niche models using multiple algorithms. Pre-modeling analyses and explorations can be done to prepare data. Model calibration (model selection) can be done by creating and testing several candidate models. Handy options for producing final models with transfers are included. Other tools to assess extrapolation risks and variability in model transfers are also available. Methodological and theoretical basis for the methods implemented here can be found in: Peterson et al. (2011) &lt;https://www.degruyter.com/princetonup/view/title/506966&gt;, Radosavljevic and Anderson (2014) &lt;doi:10.1111/jbi.12227&gt;, Peterson et al. (2018) &lt;doi:10.1111/nyas.13873&gt;, Cobos et al. (2019) &lt;doi:10.7717/peerj.6281&gt;, Alkishe et al. (2020) &lt;doi:10.1016/j.pecon.2020.03.002&gt;, Machado-Stredel et al. (2021) &lt;doi:10.21425/F5FBG48814&gt;, Arias-Giraldo and Cobos (2024) &lt;doi:10.17161/bi.v18i.21742&gt;, Cobos et al. (2024) &lt;doi:10.17161/bi.v18i.21742&gt;.">
<meta property="og:description" content="A new set of tools to help with the development of detailed ecological niche models using multiple algorithms. Pre-modeling analyses and explorations can be done to prepare data. Model calibration (model selection) can be done by creating and testing several candidate models. Handy options for producing final models with transfers are included. Other tools to assess extrapolation risks and variability in model transfers are also available. Methodological and theoretical basis for the methods implemented here can be found in: Peterson et al. (2011) &lt;https://www.degruyter.com/princetonup/view/title/506966&gt;, Radosavljevic and Anderson (2014) &lt;doi:10.1111/jbi.12227&gt;, Peterson et al. (2018) &lt;doi:10.1111/nyas.13873&gt;, Cobos et al. (2019) &lt;doi:10.7717/peerj.6281&gt;, Alkishe et al. (2020) &lt;doi:10.1016/j.pecon.2020.03.002&gt;, Machado-Stredel et al. (2021) &lt;doi:10.21425/F5FBG48814&gt;, Arias-Giraldo and Cobos (2024) &lt;doi:10.17161/bi.v18i.21742&gt;, Cobos et al. (2024) &lt;doi:10.17161/bi.v18i.21742&gt;.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">kuenm2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.10</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="index.html"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/basic_bata_cleaning.html">1. Occurrence Data Cleaning</a></li>
    <li><a class="dropdown-item" href="articles/prepare_data.html">2. Prepare Data for Model Calibration</a></li>
    <li><a class="dropdown-item" href="articles/model_calibration.html">3. Model Calibration</a></li>
    <li><a class="dropdown-item" href="articles/model_exploration.html">4. Fit and Explore Selected Models</a></li>
    <li><a class="dropdown-item" href="articles/model_predictions.html">5. Predict models to single scenario</a></li>
    <li><a class="dropdown-item" href="articles/model_projections.html">6. Project models to multiple scenarios</a></li>
    <li><a class="dropdown-item" href="articles/variability_and_uncertainty.html">7. Exploring Model Uncertainty and Variability</a></li>
    <li><a class="dropdown-item" href="articles/organize_past_chelsa.html">8. Organize projections manually</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="kuenm2-detailed-development-of-ecological-niche-models">kuenm2: Detailed Development of Ecological Niche Models<a class="anchor" aria-label="anchor" href="#kuenm2-detailed-development-of-ecological-niche-models"></a>
</h1></div>
<p>Marlon E. Cobos, Weverton Trindade, Luis F. Arias-Giraldo, Luis Osorio-Olvera, and A. Townsend Peterson</p>
<ul>
<li><a href="#package-description">Package description</a></li>
<li><a href="#installing-the-package">Installing the package</a></li>
<li>
<a href="#workflow-in-kuenm2">Workflow in kuenm2</a>
<ul>
<li><a href="#basic-data-cleaning">Basic data cleaning</a></li>
<li><a href="#data-preparation">Data preparation</a></li>
<li><a href="#model-calibration">Model calibration</a></li>
<li><a href="#model-explorations">Model explorations</a></li>
<li><a href="#model-projections">Model projections</a></li>
<li><a href="#projection-comparisons">Projection comparisons</a></li>
<li><a href="#variability-and-uncertainty">Variability and uncertainty</a></li>
</ul>
</li>
<li><a href="#checking-the-vignettes">Checking the vignettes</a></li>
</ul>
<hr>
<p><br></p>
<div class="section level2">
<h2 id="package-description">Package description<a class="anchor" aria-label="anchor" href="#package-description"></a>
</h2>
<p><strong>kuenm2</strong> is an new version of <strong>kuenm</strong> <a href="https://peerj.com/articles/6281/" class="external-link">Cobos et al. 2019</a>, an R package designed to make the process of ecological niche modeling (ENM) easier, faster, and more reproducible, and at the same time more robust. The aim of this package is to facilitate crucial steps in the ENM process: data preparation, model calibration, selected model exploration, model projections, and analyses of uncertainty and variability.</p>
<p>This new version of the package reduces the dependency on a strictly organized working directory (required only if projections to multiple scenarios are needed). Instead, <strong>kuenm2</strong> functions generate specific R objects that store all the necessary information for subsequent steps. The ENM workflow in <strong>kuenm2</strong> begins with <em>data preparation</em>, which requires at minimum a <code>data.frame</code> containing occurrence record coordinates (longitude and latitude) and a <code>SpatRaster</code> object with predictor variables.</p>
<p><strong>kuenm2</strong> fits maximum entropy (Maxnet) models or logistic generalized linear models (GLMs). Maxnet models are created as described in <a href="http://doi.wiley.com/10.1111/ecog.03049" class="external-link">Phillips et al. (2017)</a>, and GLMs are constructed as in <a href="https://doi.org/10.1371/journal.pone.0276951" class="external-link">Cobos and Peterson (2023)</a>.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="installing-the-package">Installing the package<a class="anchor" aria-label="anchor" href="#installing-the-package"></a>
</h2>
<p>Note: Internet connection is required to install the package.</p>
<p>To install the latest release of <strong>kuenm2</strong> use the following line of code:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Installing from CRAN </span></span>
<span><span class="co">#install.packages("kuenm2")  # in progress</span></span></code></pre></div>
<p><br></p>
<p>The development version of <strong>kuenm2</strong> can be installed using the code below.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Installing and loading packages</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># To install the package use</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"marlonecobos/kuenm2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># To install the package and its vignettes use (if needed use: force = TRUE)  </span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"marlonecobos/kuenm2"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>  <span class="co"># in progress</span></span></code></pre></div>
<p><br></p>
<p><em>Having problems?</em></p>
<p>If you have any problems during installation of the development version from GitHub, restart R session, close other RStudio sessions you may have open, and try again. If during the installation you are asked to update packages, do so if you don’t need a specific version of one or more of the packages to be installed. If any of the packages gives an error when updating, please install it alone using <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code>, then try installing <strong>kuenm2</strong> again.</p>
<p><br></p>
<p>To load the package use:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load kuenm2</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://marlonecobos.github.io/kuenm2/">kuenm2</a></span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="workflow-in-kuenm2">Workflow in kuenm2<a class="anchor" aria-label="anchor" href="#workflow-in-kuenm2"></a>
</h2>
<p>The <strong>kuenm2</strong> package facilitates the following steps in the ENM process: basic data cleaning, data preparation, model calibration, model exploration, model projections, projection comparisons, and exploration of variability and uncertainty. The figure below shows a schematic view of how the package works. A brief description of the steps that can be performed with the package is presented below. For a complete description and demonstration of the steps, see the package vignettes listed in the section <a href="#checking-the-vignettes">Checking the vignettes</a>.</p>
<div class="figure" style="text-align: center">
<img src="reference/figures/kuenm2_map.png" alt="Figure 1. Schematic view of the workflow to use kuenm2." width="460"><p class="caption">
Figure 1. Schematic view of the workflow to use kuenm2.
</p>
</div>
<div class="section level3">
<h3 id="basic-data-cleaning">Basic data cleaning<a class="anchor" aria-label="anchor" href="#basic-data-cleaning"></a>
</h3>
<p>Data cleaning tools in <strong>kuenm2</strong> help to automate the following basic steps: columns sorting, missing-data cleaning, duplicate removal, exclusion of coordinates with longitude and latitude values of 0, and filtering based on coordinate decimal precision (see function <code><a href="reference/initial_cleaning.html">initial_cleaning()</a></code>). In addition, users can erase duplicates based on the pixels of a raster layer, and move records that are barely outside the valid pixels of a raster layer (see function <code><a href="reference/advanced_cleaning.html">advanced_cleaning()</a></code>).</p>
</div>
<div class="section level3">
<h3 id="data-preparation">Data preparation<a class="anchor" aria-label="anchor" href="#data-preparation"></a>
</h3>
<p><strong>kuenm2</strong> has two main functions that help users prepare their data for the ENM process. These functions take initial data, and guide users to make decisions about the algorithm to be used for models and the combination of parameters (feature classes, regularization multiplier, sets of variables) to be explored later during model calibration. Users can input occurrence records and raster layers, or a <code>data.frame</code> that has been prepared before hand. The main functions for this step are <code><a href="reference/prepare_data.html">prepare_data()</a></code> and <code><a href="reference/prepare_user_data.html">prepare_user_data()</a></code>. Users can also explore in more detail how environmental values look like in the data for model calibration using the results from preparing data and the functions <code><a href="reference/explore_calibration_geo.html">explore_calibration_geo()</a></code>, <code><a href="reference/explore_calibration_hist.html">explore_calibration_hist()</a></code>, and <code><a href="reference/plot_explore_calibration.html">plot_explore_calibration()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="model-calibration">Model calibration<a class="anchor" aria-label="anchor" href="#model-calibration"></a>
</h3>
<p>Model calibration is the most computationally challenging process automated in <strong>kuenm2</strong>. In this step, candidate models are trained and tested using a k-fold cross-validation approach. Then, models are selected based on multiple criteria to warranty that the models used in later steps are the most robust among the candidates. The main function used in this step is <code><a href="reference/calibration.html">calibration()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="model-explorations">Model explorations<a class="anchor" aria-label="anchor" href="#model-explorations"></a>
</h3>
<p>After the best performing models have been selected, users need to fit this models (<code><a href="reference/fit_selected.html">fit_selected()</a></code>) in order to explore their characteristics and continue with the next steps. Fitted models can then be used to assess variable importance in models, as well as to explore variable response curves. See functions <code><a href="reference/variable_importance.html">variable_importance()</a></code> and <code>response_curves()</code>.</p>
</div>
<div class="section level3">
<h3 id="model-projections">Model projections<a class="anchor" aria-label="anchor" href="#model-projections"></a>
</h3>
<p>Once selected models have been fit and explored, projections to single or multiple scenarios can be done. To facilitate projections to simple or complex combinations of scenarios, multiple functions are available. The function <code><a href="reference/predict_selected.html">predict_selected()</a></code> performs projections to single scenarios, and the function <code><a href="reference/project_selected.html">project_selected()</a></code> helps with multiple scenarios. Notice, however, that before projecting to multiple scenarios, some steps need to be done. For an example of projections to future scenarios, with WorldClim variables, see the functions: <code><a href="reference/organize_future_worldclim.html">organize_future_worldclim()</a></code>, and <code><a href="reference/prepare_projection.html">prepare_projection()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="projection-comparisons">Projection comparisons<a class="anchor" aria-label="anchor" href="#projection-comparisons"></a>
</h3>
<p>When projections to multiple scenarios involve a transfer to another time that can be compared to the current scenario, <strong>kuenm2</strong> provides a way to quantify and characterize changes. This can be done using the function <code><a href="reference/projection_changes.html">projection_changes()</a></code> and the results help to describe changes in each of the scenarios, and distinct levels of agreement in these changes among scenarios.</p>
</div>
<div class="section level3">
<h3 id="variability-and-uncertainty">Variability and uncertainty<a class="anchor" aria-label="anchor" href="#variability-and-uncertainty"></a>
</h3>
<p>For results of model projections to multiple scenarios, tools for analyses of variability and uncertainty are included in <strong>kuenm2</strong>. Variability in model projections (<code><a href="reference/projection_variability.html">projection_variability()</a></code>) is represented geographically by exploring the variance that comes from replicates, distinct model parameterizations, and general circulation models (in projections to other times). To represent uncertainty, the Mobility Oriented-Parity (MOP) metric is used to compare all projection scenarios to conditions of model training (<code><a href="reference/projection_mop.html">projection_mop()</a></code>).</p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="checking-the-vignettes">Checking the vignettes<a class="anchor" aria-label="anchor" href="#checking-the-vignettes"></a>
</h2>
<p>Users can check <strong>kuenm2</strong> vignettes for a full explanation of the package functionality. If installing the development version form GitHub, make sure to use the argument <code>build_vignettes = TRUE</code>.</p>
<p>Check each of the vignettes with the code below:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Guide to basic data cleaning before the ENM process</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"basic_data_cleaning"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Guide to prepare data for the ENM process</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"prepare_data"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Guide to train and evaluate candidate models, and select based on performance</span></span>
<span><span class="co">#vignette("model_calibration")  # in progress</span></span>
<span></span>
<span><span class="co"># Guide to explore selected models, variable importance, response curves</span></span>
<span><span class="co">#vignette("model_exploration")  # in progress</span></span>
<span></span>
<span><span class="co"># Guide to predict models in geographic space (single scenarios)</span></span>
<span><span class="co">#vignette("model_predictions")  # in progress</span></span>
<span></span>
<span><span class="co"># Guide to project models in geographic space (multiple scenarios)</span></span>
<span><span class="co">#vignette("model_projections")  # in progress</span></span>
<span></span>
<span><span class="co"># Guide to explore variability and uncertainty in projections (multiple scenarios)</span></span>
<span><span class="co">#vignette("variability_and_uncertainty")  # in progress</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 3)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing kuenm2</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Marlon E. Cobos <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2611-1767" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Weverton Trindade <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-2045-4555" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Luis F. Arias-Giraldo <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-4861-8064" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Luis Osorio-Olvera <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-0701-5398" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>A. Townsend Peterson <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-0243-2379" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marlon E. Cobos, Weverton Trindade, Luis F. Arias-Giraldo, Luis Osorio-Olvera, A. Townsend Peterson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
