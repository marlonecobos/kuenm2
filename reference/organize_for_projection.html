<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Organize and structure variables for past and future projections — organize_for_projection • kuenm2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Organize and structure variables for past and future projections — organize_for_projection"><meta name="description" content='This function helpts to organize climate variable files from past and future
scenarios into folders categorized by time period ("Past" or "Future"),
specific period (e.g., "LGM" or "2081–2100"), emission scenario (e.g.,
"ssp585"), and GCMs. This structure simplifies the preparation of climate
data and ensures compatibility with the prepare_projection() function,
making the variables properly organized for modeling projections.
See Details for more information.'><meta property="og:description" content='This function helpts to organize climate variable files from past and future
scenarios into folders categorized by time period ("Past" or "Future"),
specific period (e.g., "LGM" or "2081–2100"), emission scenario (e.g.,
"ssp585"), and GCMs. This structure simplifies the preparation of climate
data and ensures compatibility with the prepare_projection() function,
making the variables properly organized for modeling projections.
See Details for more information.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">kuenm2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.10</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/basic_data_cleaning.html">1. Occurrence Data Cleaning</a></li>
    <li><a class="dropdown-item" href="../articles/prepare_data.html">2. Prepare Data for Model Calibration</a></li>
    <li><a class="dropdown-item" href="../articles/model_calibration.html">3. Model Calibration</a></li>
    <li><a class="dropdown-item" href="../articles/model_exploration.html">4. Fit and Explore Selected Models</a></li>
    <li><a class="dropdown-item" href="../articles/model_predictions.html">5. Predict models to single scenario</a></li>
    <li><a class="dropdown-item" href="../articles/model_projections.html">6. Project models to multiple scenarios</a></li>
    <li><a class="dropdown-item" href="../articles/variability_and_uncertainty.html">7. Exploring Model Uncertainty and Variability</a></li>
    <li><a class="dropdown-item" href="../articles/organize_past_chelsa.html">8. Organize projections manually</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Organize and structure variables for past and future projections</h1>

      <div class="d-none name"><code>organize_for_projection.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function helpts to organize climate variable files from past and future
scenarios into folders categorized by time period ("Past" or "Future"),
specific period (e.g., "LGM" or "2081–2100"), emission scenario (e.g.,
"ssp585"), and GCMs. This structure simplifies the preparation of climate
data and ensures compatibility with the <code><a href="prepare_projection.html">prepare_projection()</a></code> function,
making the variables properly organized for modeling projections.
See <strong>Details</strong> for more information.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">organize_for_projection</span><span class="op">(</span><span class="va">output_dir</span>, models <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                               variable_names <span class="op">=</span> <span class="cn">NULL</span>, present_file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                               past_files <span class="op">=</span> <span class="cn">NULL</span>, past_period <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                               past_gcm <span class="op">=</span> <span class="cn">NULL</span>, future_files <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                               future_period <span class="op">=</span> <span class="cn">NULL</span>, future_pscen <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                               future_gcm <span class="op">=</span> <span class="cn">NULL</span>, fixed_variables <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                               check_extent <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                               resample_to_present <span class="op">=</span> <span class="cn">TRUE</span>, mask <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                               overwrite <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-output-dir">output_dir<a class="anchor" aria-label="anchor" href="#arg-output-dir"></a></dt>
<dd><p>(character) path to the folder where the organized data
will be saved.</p></dd>


<dt id="arg-models">models<a class="anchor" aria-label="anchor" href="#arg-models"></a></dt>
<dd><p>an object of class fitted_models returned by the
<code><a href="fit_selected.html">fit_selected()</a></code> function. Default is NULL.</p></dd>


<dt id="arg-variable-names">variable_names<a class="anchor" aria-label="anchor" href="#arg-variable-names"></a></dt>
<dd><p>(character) names of the variables used to fit the
model or do the PCA in the <code><a href="prepare_data.html">prepare_data()</a></code> function. Only applicable if
'models' argument is not provided. Default is NULL.</p></dd>


<dt id="arg-present-file">present_file<a class="anchor" aria-label="anchor" href="#arg-present-file"></a></dt>
<dd><p>(character) <strong>full paths</strong> to the variables from the
present scenario. Default is NULL.</p></dd>


<dt id="arg-past-files">past_files<a class="anchor" aria-label="anchor" href="#arg-past-files"></a></dt>
<dd><p>(character) <strong>full paths</strong> to the variables from the past
scenario(s). Default is NULL.</p></dd>


<dt id="arg-past-period">past_period<a class="anchor" aria-label="anchor" href="#arg-past-period"></a></dt>
<dd><p>(character) names of the subfolders within 'past_files',
representing specific time periods (e.g., 'LGM' or 'MID'). Only applicable
if 'past_files' is provided. Default is NULL.</p></dd>


<dt id="arg-past-gcm">past_gcm<a class="anchor" aria-label="anchor" href="#arg-past-gcm"></a></dt>
<dd><p>(character) names of the subfolders within 'past_files',
representing specific General Circulation Models (GCMs). Only applicable if
'past_files' is provided. Default is NULL.</p></dd>


<dt id="arg-future-files">future_files<a class="anchor" aria-label="anchor" href="#arg-future-files"></a></dt>
<dd><p>(character) <strong>full paths</strong> to the variables from the
future scenario(s). Default is NULL.</p></dd>


<dt id="arg-future-period">future_period<a class="anchor" aria-label="anchor" href="#arg-future-period"></a></dt>
<dd><p>(character) names of the subfolders within
'future_files', representing specific time periods (e.g., '2041-2060' or
'2081-2100'). Only applicable if 'future_files' is provided. Default is NULL.</p></dd>


<dt id="arg-future-pscen">future_pscen<a class="anchor" aria-label="anchor" href="#arg-future-pscen"></a></dt>
<dd><p>(character) names of the subfolders within 'future_files',
representing specific emission scenarios (e.g., 'ssp126' or 'ssp585'). Only
applicable if 'future_files' is provided. Default is NULL.</p></dd>


<dt id="arg-future-gcm">future_gcm<a class="anchor" aria-label="anchor" href="#arg-future-gcm"></a></dt>
<dd><p>(character) names of the subfolders within 'future_files',
representing specific General Circulation Models (GCMs). Only applicable if
'future_files' is provided. Default is NULL.</p></dd>


<dt id="arg-fixed-variables">fixed_variables<a class="anchor" aria-label="anchor" href="#arg-fixed-variables"></a></dt>
<dd><p>(SpatRaster) optional static variables (i.e., soil
type) used in the model, which will remain unchanged in past or future
scenarios. This variable will be included with each scenario. Default is NULL.</p></dd>


<dt id="arg-check-extent">check_extent<a class="anchor" aria-label="anchor" href="#arg-check-extent"></a></dt>
<dd><p>(logical) whether to ensure that the 'fixed_variables'
have the same spatial extent as the bioclimatic variables. Applicable only if
'fixed_variables' is provided. Default is TRUE.</p></dd>


<dt id="arg-resample-to-present">resample_to_present<a class="anchor" aria-label="anchor" href="#arg-resample-to-present"></a></dt>
<dd><p>(logical) whether to resample past or future
variables so they match the extent of the present variables. Only used when
'present_file' is provided. Default is TRUE.</p></dd>


<dt id="arg-mask">mask<a class="anchor" aria-label="anchor" href="#arg-mask"></a></dt>
<dd><p>(SpatRaster, SpatVector, or SpatExtent) spatial object used to
mask the variables (optional). Default is NULL.</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>whether to overwrite existing files in the output directory.
Default is FALSE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A message indicating that the variables were successfully organized in the
'output_dir' directory.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The listed input rasters must be stored as <code>.tif</code> files, with one file per
scenario. Filenames should include identifiable patterns for time period,
GCM, and (for future scenarios) the emission scenario (SSP).</p>
<p>For example:</p><ul><li><p>A file representing "Past" conditions for the "LGM" period using the
"MIROC6" GCM should be named: <code>"Past_LGM_MIROC6.tif"</code></p></li>
<li><p>A file representing "Future" conditions for the period "2081–2100" under
the emission scenario "ssp585" and the GCM "ACCESS-CM2" should be named:
<code>"Future_2081-2100_ssp585_ACCESS-CM2.tif"</code></p></li>
</ul><p>All scenario files must contain the same variable names (e.g., <code>bio1</code>,
<code>bio2</code>, etc.) and units as those used for model calibration with present-day
data.
Tip: When listing the files, use <code>list.files(path, full.names = TRUE)</code> to
obtain the full file paths required by the function.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="prepare_projection.html">prepare_projection</a> <a href="organize_future_worldclim.html">organize_future_worldclim</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Set the input directory containing the climate variables.</span></span></span>
<span class="r-in"><span><span class="co"># In this example, we use present and LGM variables from CHELSA</span></span></span>
<span class="r-in"><span><span class="co"># located in the "inst/extdata" folder of the package.</span></span></span>
<span class="r-in"><span><span class="va">present_lgm_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"kuenm2"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Define an output directory (here, using a temporary folder)</span></span></span>
<span class="r-in"><span><span class="co"># Replace with your own working directory if needed.</span></span></span>
<span class="r-in"><span><span class="va">out_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Projection_variables"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># List files for present-day conditions</span></span></span>
<span class="r-in"><span><span class="va">present_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">present_lgm_dir</span>,</span></span>
<span class="r-in"><span>                           pattern <span class="op">=</span> <span class="st">"Current_CHELSA"</span>, <span class="co"># Select only CHELSA present-day files</span></span></span>
<span class="r-in"><span>                           full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># List files for LGM conditions</span></span></span>
<span class="r-in"><span><span class="va">lgm_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">present_lgm_dir</span>,</span></span>
<span class="r-in"><span>                       pattern <span class="op">=</span> <span class="st">"LGM"</span>, <span class="co"># Select only LGM files</span></span></span>
<span class="r-in"><span>                       full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Organize variables for projection</span></span></span>
<span class="r-in"><span><span class="fu">organize_for_projection</span><span class="op">(</span>output_dir <span class="op">=</span> <span class="va">out_dir</span>,</span></span>
<span class="r-in"><span>                        variable_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bio1"</span>, <span class="st">"bio7"</span>, <span class="st">"bio12"</span>, <span class="st">"bio15"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        present_file <span class="op">=</span> <span class="va">present_list</span>,</span></span>
<span class="r-in"><span>                        past_files <span class="op">=</span> <span class="va">lgm_list</span>,</span></span>
<span class="r-in"><span>                        past_period <span class="op">=</span> <span class="st">"LGM"</span>,</span></span>
<span class="r-in"><span>                        past_gcm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CCSM4"</span>, <span class="st">"CNRM-CM5"</span>, <span class="st">"FGOALS-g2"</span>,</span></span>
<span class="r-in"><span>                                     <span class="st">"IPSL-CM5A-LR"</span>, <span class="st">"MIROC-ESM"</span>, <span class="st">"MPI-ESM-P"</span>,</span></span>
<span class="r-in"><span>                                     <span class="st">"MRI-CGCM3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        resample_to_present <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                        overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Variables successfully organized in directory:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> /tmp/Rtmp1iMYwD/Projection_variables</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marlon E. Cobos, Weverton Trindade, Luis F. Arias-Giraldo, Luis Osorio-Olvera, A. Townsend Peterson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

