<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Explore the Distribution of Partitions in Environmental Space — explore_partition_env • kuenm2</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Explore the Distribution of Partitions in Environmental Space — explore_partition_env"><meta name="description" content="Plots training and testing data (presences and backgrounds) in a
two-dimensional environmental space. This space can be defined either by
performing a PCA on all environmental variables or by specifying two
environmental variables manually."><meta property="og:description" content="Plots training and testing data (presences and backgrounds) in a
two-dimensional environmental space. This space can be defined either by
performing a PCA on all environmental variables or by specifying two
environmental variables manually."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">kuenm2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.11</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/basic_data_cleaning.html">1. Basic Data Cleaning</a></li>
    <li><a class="dropdown-item" href="../articles/prepare_data.html">2. Prepare Data for Model Calibration</a></li>
    <li><a class="dropdown-item" href="../articles/model_calibration.html">3. Model Calibration</a></li>
    <li><a class="dropdown-item" href="../articles/model_exploration.html">4. Fit and Explore Selected Models</a></li>
    <li><a class="dropdown-item" href="../articles/model_predictions.html">5. Project Models to a Single Scenario</a></li>
    <li><a class="dropdown-item" href="../articles/model_projections.html">6. Project Models to Multiple Scenarios</a></li>
    <li><a class="dropdown-item" href="../articles/variability_and_uncertainty.html">7. Exploring Model Uncertainty and Variability</a></li>
    <li><a class="dropdown-item" href="../articles/projections_chelsa.html">8. Example of Projections Using CHELSA Data</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/marlonecobos/kuenm2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Explore the Distribution of Partitions in Environmental Space</h1>
      <small class="dont-index">Source: <a href="https://github.com/marlonecobos/kuenm2/blob/main/R/explore_partition_env.R" class="external-link"><code>R/explore_partition_env.R</code></a></small>
      <div class="d-none name"><code>explore_partition_env.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plots training and testing data (presences and backgrounds) in a
two-dimensional environmental space. This space can be defined either by
performing a PCA on all environmental variables or by specifying two
environmental variables manually.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">explore_partition_env</span><span class="op">(</span><span class="va">data</span>, show_unused_data <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                             raster_variables <span class="op">=</span> <span class="cn">NULL</span>, mask <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                             variables <span class="op">=</span> <span class="cn">NULL</span>, type_of_plot <span class="op">=</span> <span class="st">"combined"</span>,</span>
<span>                             use_pca <span class="op">=</span> <span class="cn">TRUE</span>, pcs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PC1"</span>, <span class="st">"PC2"</span><span class="op">)</span>,</span>
<span>                             partition_palette <span class="op">=</span> <span class="st">"cols25"</span>,</span>
<span>                             custom_partition_palette <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                             include_test_background <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                             pr_train_col <span class="op">=</span> <span class="st">"#009E73"</span>,</span>
<span>                             pr_test_col <span class="op">=</span> <span class="st">"#D55E00"</span>,</span>
<span>                             bg_train_col <span class="op">=</span> <span class="st">"grey"</span>,</span>
<span>                             bg_test_col <span class="op">=</span> <span class="st">"#56B4E9"</span>, pr_transparency <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>                             bg_transparency <span class="op">=</span> <span class="fl">0.4</span>, pch <span class="op">=</span> <span class="fl">19</span>, cex_plot <span class="op">=</span> <span class="fl">1.2</span>,</span>
<span>                             size_text_legend <span class="op">=</span> <span class="fl">1</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>an object of class <code>prepared_data</code> returned by the prepare_data() function</p></dd>


<dt id="arg-show-unused-data">show_unused_data<a class="anchor" aria-label="anchor" href="#arg-show-unused-data"></a></dt>
<dd><p>(logical) whether to plot the distribution of
environmental conditions that are not represented by the background points.
If set to TRUE, the <code>raster_variables</code> must be provided. Only applicable when
<code>type_of_plot = "combined"</code>.</p></dd>


<dt id="arg-raster-variables">raster_variables<a class="anchor" aria-label="anchor" href="#arg-raster-variables"></a></dt>
<dd><p>a <code>SpatRaster</code> object representing the predictor
variables used to calibrate the models. Preferably the same object used in
<code>prepare_data</code>. Required only when <code>show_unused_data = TRUE</code>. Default is NULL.</p></dd>


<dt id="arg-mask">mask<a class="anchor" aria-label="anchor" href="#arg-mask"></a></dt>
<dd><p>(SpatRaster, SpatVector, or SpatExtent) spatial object used to
mask <code>raster_variables</code> to the area where the model will be calibrated.
Preferably the same object used in <code>prepare_data</code> (if applicable). Only used
when <code>show_unused_data = TRUE</code>. Default is NULL.</p></dd>


<dt id="arg-variables">variables<a class="anchor" aria-label="anchor" href="#arg-variables"></a></dt>
<dd><p>(character) names of the variables in <code>data</code> to define the
two-dimensional environmental space. If <code>use_pca = TRUE</code>, these variables
will be used to perform the PCA. If <code>use_pca = FALSE</code>, this must be a
character vector with exactly two variable names (e.g.,
<code>c("bio_1", "bio_12")</code>). Default is NULL, meaning all variables in <code>data</code>
will be used.</p></dd>


<dt id="arg-type-of-plot">type_of_plot<a class="anchor" aria-label="anchor" href="#arg-type-of-plot"></a></dt>
<dd><p>(character) the type of plot. Options are "combined" and
"individual". See details. Default is "combined".</p></dd>


<dt id="arg-use-pca">use_pca<a class="anchor" aria-label="anchor" href="#arg-use-pca"></a></dt>
<dd><p>(logical) whether to use PCA variables to define the
environmental space. If TRUE, a PCA will be performed on the variables,
unless <code>data</code> already includes a PCA object from using
<code>prepare_data(do_pca = TRUE)</code>. Default is TRUE.</p></dd>


<dt id="arg-pcs">pcs<a class="anchor" aria-label="anchor" href="#arg-pcs"></a></dt>
<dd><p>(character) the two PCA axes to use to define the two-dimensional
environmental space. Default is <code>c("PC1", "PC2")</code>, meaning the first two axes
will be used. Only applicable if <code>use_pca = TRUE</code>.</p></dd>


<dt id="arg-partition-palette">partition_palette<a class="anchor" aria-label="anchor" href="#arg-partition-palette"></a></dt>
<dd><p>(character) the color palette used to color the
different partitions. See <code>?kuenm2_discrete_palettes</code> to check available
options. Default is <code>"cols25"</code>.</p></dd>


<dt id="arg-custom-partition-palette">custom_partition_palette<a class="anchor" aria-label="anchor" href="#arg-custom-partition-palette"></a></dt>
<dd><p>(character) a character vector defining
custom colors for the different partitions. The number of values must match
the number of partitions in <code>data</code>. Default is NULL, meaning the palette
defined in <code>partition_palette</code> will be used.</p></dd>


<dt id="arg-include-test-background">include_test_background<a class="anchor" aria-label="anchor" href="#arg-include-test-background"></a></dt>
<dd><p>(logical) whether to include background points
that were not used for training when plotting individual partition plots.
Default is TRUE.</p></dd>


<dt id="arg-pr-train-col">pr_train_col<a class="anchor" aria-label="anchor" href="#arg-pr-train-col"></a></dt>
<dd><p>(character) the color used for train records in the
individual plots. Default is "009E73".</p></dd>


<dt id="arg-pr-test-col">pr_test_col<a class="anchor" aria-label="anchor" href="#arg-pr-test-col"></a></dt>
<dd><p>(character) the color used for test records in the
individual plots. Default is "D55E00".</p></dd>


<dt id="arg-bg-train-col">bg_train_col<a class="anchor" aria-label="anchor" href="#arg-bg-train-col"></a></dt>
<dd><p>(character) the color used for train backgrounds in the
individual plots. Default is "56B4E9".</p></dd>


<dt id="arg-bg-test-col">bg_test_col<a class="anchor" aria-label="anchor" href="#arg-bg-test-col"></a></dt>
<dd><p>(character) the color used for test backgrounds in the
individual plots. Default is "gray". Only applicable if
<code>include_test_background = TRUE</code>.</p></dd>


<dt id="arg-pr-transparency">pr_transparency<a class="anchor" aria-label="anchor" href="#arg-pr-transparency"></a></dt>
<dd><p>(numeric) a value between 0 (fully transparent) and 1
(fully opaque) defining the transparency of the points representing presences.
Default is 0.75.</p></dd>


<dt id="arg-bg-transparency">bg_transparency<a class="anchor" aria-label="anchor" href="#arg-bg-transparency"></a></dt>
<dd><p>(numeric) a value between 0 (fully transparent) and 1
(fully opaque) defining the transparency of the points representing
background points. Default is 0.4.</p></dd>


<dt id="arg-pch">pch<a class="anchor" aria-label="anchor" href="#arg-pch"></a></dt>
<dd><p>(numeric) a value between 1 and 25 to specify the point shape. See
<code><a href="https://rdrr.io/r/graphics/points.html" class="external-link">?pch</a></code> for details. Default is <code>19</code> (solid circle).</p></dd>


<dt id="arg-cex-plot">cex_plot<a class="anchor" aria-label="anchor" href="#arg-cex-plot"></a></dt>
<dd><p>(numeric) specify the size of the points in the plot. Default
is <code>1.2</code>.</p></dd>


<dt id="arg-size-text-legend">size_text_legend<a class="anchor" aria-label="anchor" href="#arg-size-text-legend"></a></dt>
<dd><p>(numeric) specify the size of the text of the legend.
Default is <code>1</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments passed to <code>plot</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Plots showing the training and testing data in a two-dimensional
environmental space.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function provides two types of plots:</p><ul><li><p><strong>combined</strong>: two plots side by side, one showing the presences and another
showing the background points. The colors of the points represent the
partitions. This is the default option.</p></li>
<li><p><strong>individual</strong>: one plot per partition. In each plot, the colors of the
points represent those used as train records, test records, train background,
or test background (i.e., not used during training in the specified
partition).</p></li>
</ul><p>To obtain both types of plots, set:
<code>type_of_plot = c("combined", "individual")</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Prepare data</span></span></span>
<span class="r-in"><span><span class="co"># Import occurrences</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">occ_data</span>, package <span class="op">=</span> <span class="st">"kuenm2"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Import raster layers</span></span></span>
<span class="r-in"><span><span class="va">var</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Current_variables.tif"</span>,</span></span>
<span class="r-in"><span>                               package <span class="op">=</span> <span class="st">"kuenm2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Prepare data for maxnet model</span></span></span>
<span class="r-in"><span><span class="va">sp_swd</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepare_data.html">prepare_data</a></span><span class="op">(</span>algorithm <span class="op">=</span> <span class="st">"maxnet"</span>, occ <span class="op">=</span> <span class="va">occ_data</span>,</span></span>
<span class="r-in"><span>                       x <span class="op">=</span> <span class="st">"x"</span>, y <span class="op">=</span> <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>                       raster_variables <span class="op">=</span> <span class="va">var</span>,</span></span>
<span class="r-in"><span>                       species <span class="op">=</span> <span class="va">occ_data</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                       n_background <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>                       categorical_variables <span class="op">=</span> <span class="st">"SoilType"</span>,</span></span>
<span class="r-in"><span>                       features <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"l"</span>, <span class="st">"lq"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       r_multiplier <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                       partition_method <span class="op">=</span> <span class="st">"kfolds"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>3 rows were excluded from database because NAs were found.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Explore the Distribution of Partitions in Environmental Space</span></span></span>
<span class="r-in"><span><span class="fu">explore_partition_env</span><span class="op">(</span>data <span class="op">=</span> <span class="va">sp_swd</span>, show_unused_data <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                      raster_variables <span class="op">=</span> <span class="va">var</span>,</span></span>
<span class="r-in"><span>                      type_of_plot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"combined"</span>, <span class="st">"individual"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="explore_partition_env-1.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="explore_partition_env-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Weverton C. F. Trindade, Luis F. Arias-Giraldo, Luis Osorio-Olvera, A. Townsend Peterson, Marlon E. Cobos.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

